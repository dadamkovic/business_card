ARM GAS  C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s 			page 1


   1              		.cpu cortex-m0
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"notes.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Lib/Notes/Src/notes.c"
  18              		.section	.text.setupNotes,"ax",%progbits
  19              		.align	1
  20              		.global	setupNotes
  21              		.syntax unified
  22              		.code	16
  23              		.thumb_func
  25              	setupNotes:
  26              	.LVL0:
  27              	.LFB40:
   1:Core/Lib/Notes/Src/notes.c **** /**
   2:Core/Lib/Notes/Src/notes.c ****  * @file notes.c
   3:Core/Lib/Notes/Src/notes.c ****  * @author Daniel Adamkovic (dadamkovic@protonmail.ch)
   4:Core/Lib/Notes/Src/notes.c ****  * @brief 
   5:Core/Lib/Notes/Src/notes.c ****  * @version 0.1
   6:Core/Lib/Notes/Src/notes.c ****  * @date 15-10-2023
   7:Core/Lib/Notes/Src/notes.c ****  * 
   8:Core/Lib/Notes/Src/notes.c ****  * @copyright Copyright (c) 2023
   9:Core/Lib/Notes/Src/notes.c ****  * 
  10:Core/Lib/Notes/Src/notes.c ****  */
  11:Core/Lib/Notes/Src/notes.c **** 
  12:Core/Lib/Notes/Src/notes.c **** #include "notes.h"
  13:Core/Lib/Notes/Src/notes.c **** 
  14:Core/Lib/Notes/Src/notes.c **** uint16_t u16_notes[] = {16,17,18,19,20,21,23,24,26,28,29,30};
  15:Core/Lib/Notes/Src/notes.c **** 
  16:Core/Lib/Notes/Src/notes.c **** TDef_changeCompare *changeCompare;
  17:Core/Lib/Notes/Src/notes.c **** TDef_changeTop *changeTop;
  18:Core/Lib/Notes/Src/notes.c **** TDef_outputOn *outputOn;
  19:Core/Lib/Notes/Src/notes.c **** TDef_OutputOff *outputOff;
  20:Core/Lib/Notes/Src/notes.c **** uint16_t u16_base_beat;
  21:Core/Lib/Notes/Src/notes.c **** 
  22:Core/Lib/Notes/Src/notes.c **** TDef_NotesStatus setupNotes(TDef_changeCompare *usrChngComp,
  23:Core/Lib/Notes/Src/notes.c ****                             TDef_changeTop *usrChngTop,
  24:Core/Lib/Notes/Src/notes.c ****                             TDef_outputOn *usrOutputOn,
  25:Core/Lib/Notes/Src/notes.c ****                             TDef_OutputOff *usrOutputOff)
  26:Core/Lib/Notes/Src/notes.c **** {
  28              		.loc 1 26 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 26 1 is_stmt 0 view .LVU1
ARM GAS  C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s 			page 2


  33 0000 10B5     		push	{r4, lr}
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 4, -8
  36              		.cfi_offset 14, -4
  27:Core/Lib/Notes/Src/notes.c **** changeCompare = usrChngComp;
  37              		.loc 1 27 1 is_stmt 1 view .LVU2
  38              		.loc 1 27 15 is_stmt 0 view .LVU3
  39 0002 054C     		ldr	r4, .L2
  40 0004 2060     		str	r0, [r4]
  28:Core/Lib/Notes/Src/notes.c **** changeTop = usrChngTop;
  41              		.loc 1 28 1 is_stmt 1 view .LVU4
  42              		.loc 1 28 11 is_stmt 0 view .LVU5
  43 0006 0548     		ldr	r0, .L2+4
  44              	.LVL1:
  45              		.loc 1 28 11 view .LVU6
  46 0008 0160     		str	r1, [r0]
  29:Core/Lib/Notes/Src/notes.c **** outputOn = usrOutputOn;
  47              		.loc 1 29 1 is_stmt 1 view .LVU7
  48              		.loc 1 29 10 is_stmt 0 view .LVU8
  49 000a 0549     		ldr	r1, .L2+8
  50              	.LVL2:
  51              		.loc 1 29 10 view .LVU9
  52 000c 0A60     		str	r2, [r1]
  30:Core/Lib/Notes/Src/notes.c **** outputOff = usrOutputOff;
  53              		.loc 1 30 1 is_stmt 1 view .LVU10
  54              		.loc 1 30 11 is_stmt 0 view .LVU11
  55 000e 054A     		ldr	r2, .L2+12
  56              	.LVL3:
  57              		.loc 1 30 11 view .LVU12
  58 0010 1360     		str	r3, [r2]
  31:Core/Lib/Notes/Src/notes.c **** 
  32:Core/Lib/Notes/Src/notes.c **** return NOTES_OK;
  59              		.loc 1 32 1 is_stmt 1 view .LVU13
  33:Core/Lib/Notes/Src/notes.c **** }
  60              		.loc 1 33 1 is_stmt 0 view .LVU14
  61 0012 0020     		movs	r0, #0
  62              		.loc 1 33 1 view .LVU15
  63              		@ sp needed
  64              		.loc 1 33 1 view .LVU16
  65 0014 10BD     		pop	{r4, pc}
  66              	.L3:
  67 0016 C046     		.align	2
  68              	.L2:
  69 0018 00000000 		.word	changeCompare
  70 001c 00000000 		.word	changeTop
  71 0020 00000000 		.word	outputOn
  72 0024 00000000 		.word	outputOff
  73              		.cfi_endproc
  74              	.LFE40:
  76              		.section	.text.setBeat,"ax",%progbits
  77              		.align	1
  78              		.global	setBeat
  79              		.syntax unified
  80              		.code	16
  81              		.thumb_func
  83              	setBeat:
  84              	.LVL4:
ARM GAS  C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s 			page 3


  85              	.LFB41:
  34:Core/Lib/Notes/Src/notes.c **** 
  35:Core/Lib/Notes/Src/notes.c **** TDef_NotesStatus setBeat(uint16_t usrBeat){
  86              		.loc 1 35 43 is_stmt 1 view -0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 0
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90              		@ link register save eliminated.
  36:Core/Lib/Notes/Src/notes.c ****     u16_base_beat = usrBeat;
  91              		.loc 1 36 5 view .LVU18
  92              		.loc 1 36 19 is_stmt 0 view .LVU19
  93 0000 014B     		ldr	r3, .L5
  94 0002 1880     		strh	r0, [r3]
  37:Core/Lib/Notes/Src/notes.c ****     return NOTES_OK;
  95              		.loc 1 37 5 is_stmt 1 view .LVU20
  38:Core/Lib/Notes/Src/notes.c **** }
  96              		.loc 1 38 1 is_stmt 0 view .LVU21
  97 0004 0020     		movs	r0, #0
  98              	.LVL5:
  99              		.loc 1 38 1 view .LVU22
 100              		@ sp needed
 101 0006 7047     		bx	lr
 102              	.L6:
 103              		.align	2
 104              	.L5:
 105 0008 00000000 		.word	u16_base_beat
 106              		.cfi_endproc
 107              	.LFE41:
 109              		.global	__aeabi_uidiv
 110              		.section	.text.playNote,"ax",%progbits
 111              		.align	1
 112              		.global	playNote
 113              		.syntax unified
 114              		.code	16
 115              		.thumb_func
 117              	playNote:
 118              	.LVL6:
 119              	.LFB42:
  39:Core/Lib/Notes/Src/notes.c **** 
  40:Core/Lib/Notes/Src/notes.c **** 
  41:Core/Lib/Notes/Src/notes.c **** TDef_NotesStatus playNote(Enum_Notes note, uint8_t octave, uint8_t beats){
 120              		.loc 1 41 74 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124              		.loc 1 41 74 is_stmt 0 view .LVU24
 125 0000 70B5     		push	{r4, r5, r6, lr}
 126              		.cfi_def_cfa_offset 16
 127              		.cfi_offset 4, -16
 128              		.cfi_offset 5, -12
 129              		.cfi_offset 6, -8
 130              		.cfi_offset 14, -4
 131 0002 1500     		movs	r5, r2
  42:Core/Lib/Notes/Src/notes.c ****     uint16_t freq = u16_notes[note];
 132              		.loc 1 42 5 is_stmt 1 view .LVU25
 133              		.loc 1 42 14 is_stmt 0 view .LVU26
 134 0004 0E4B     		ldr	r3, .L8
ARM GAS  C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s 			page 4


 135 0006 4000     		lsls	r0, r0, #1
 136              	.LVL7:
 137              		.loc 1 42 14 view .LVU27
 138 0008 C35A     		ldrh	r3, [r0, r3]
 139              	.LVL8:
  43:Core/Lib/Notes/Src/notes.c ****     freq *= octave;
 140              		.loc 1 43 5 is_stmt 1 view .LVU28
 141              		.loc 1 43 10 is_stmt 0 view .LVU29
 142 000a 5943     		muls	r1, r3
 143              	.LVL9:
 144              		.loc 1 43 10 view .LVU30
 145 000c 89B2     		uxth	r1, r1
 146              	.LVL10:
  44:Core/Lib/Notes/Src/notes.c ****     uint16_t top = (uint16_t)TIMER_FREQ / freq;
 147              		.loc 1 44 5 is_stmt 1 view .LVU31
 148              		.loc 1 44 14 is_stmt 0 view .LVU32
 149 000e 0D48     		ldr	r0, .L8+4
 150 0010 FFF7FEFF 		bl	__aeabi_uidiv
 151              	.LVL11:
 152              		.loc 1 44 14 view .LVU33
 153 0014 84B2     		uxth	r4, r0
 154              	.LVL12:
  45:Core/Lib/Notes/Src/notes.c ****     changeTop(top);
 155              		.loc 1 45 5 is_stmt 1 view .LVU34
 156 0016 0C4B     		ldr	r3, .L8+8
 157 0018 1B68     		ldr	r3, [r3]
 158 001a 2000     		movs	r0, r4
 159 001c 9847     		blx	r3
 160              	.LVL13:
  46:Core/Lib/Notes/Src/notes.c ****     changeCompare(top/2);
 161              		.loc 1 46 5 view .LVU35
 162 001e 6008     		lsrs	r0, r4, #1
 163 0020 0A4B     		ldr	r3, .L8+12
 164 0022 1B68     		ldr	r3, [r3]
 165 0024 9847     		blx	r3
 166              	.LVL14:
  47:Core/Lib/Notes/Src/notes.c ****     
  48:Core/Lib/Notes/Src/notes.c ****     outputOn(u16_base_beat*beats);
 167              		.loc 1 48 5 view .LVU36
 168              		.loc 1 48 27 is_stmt 0 view .LVU37
 169 0026 0A4C     		ldr	r4, .L8+16
 170              	.LVL15:
 171              		.loc 1 48 27 view .LVU38
 172 0028 2088     		ldrh	r0, [r4]
 173 002a 6843     		muls	r0, r5
 174              		.loc 1 48 5 view .LVU39
 175 002c 094B     		ldr	r3, .L8+20
 176 002e 1B68     		ldr	r3, [r3]
 177 0030 9847     		blx	r3
 178              	.LVL16:
  49:Core/Lib/Notes/Src/notes.c ****     HAL_Delay(u16_base_beat/2);
 179              		.loc 1 49 5 is_stmt 1 view .LVU40
 180 0032 2088     		ldrh	r0, [r4]
 181 0034 4008     		lsrs	r0, r0, #1
 182 0036 FFF7FEFF 		bl	HAL_Delay
 183              	.LVL17:
  50:Core/Lib/Notes/Src/notes.c ****     
ARM GAS  C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s 			page 5


  51:Core/Lib/Notes/Src/notes.c ****     return NOTES_OK;
 184              		.loc 1 51 5 view .LVU41
  52:Core/Lib/Notes/Src/notes.c **** }
 185              		.loc 1 52 1 is_stmt 0 view .LVU42
 186 003a 0020     		movs	r0, #0
 187              		@ sp needed
 188 003c 70BD     		pop	{r4, r5, r6, pc}
 189              	.L9:
 190 003e C046     		.align	2
 191              	.L8:
 192 0040 00000000 		.word	u16_notes
 193 0044 40420000 		.word	16960
 194 0048 00000000 		.word	changeTop
 195 004c 00000000 		.word	changeCompare
 196 0050 00000000 		.word	u16_base_beat
 197 0054 00000000 		.word	outputOn
 198              		.cfi_endproc
 199              	.LFE42:
 201              		.global	u16_base_beat
 202              		.section	.bss.u16_base_beat,"aw",%nobits
 203              		.align	1
 206              	u16_base_beat:
 207 0000 0000     		.space	2
 208              		.global	outputOff
 209              		.section	.bss.outputOff,"aw",%nobits
 210              		.align	2
 213              	outputOff:
 214 0000 00000000 		.space	4
 215              		.global	outputOn
 216              		.section	.bss.outputOn,"aw",%nobits
 217              		.align	2
 220              	outputOn:
 221 0000 00000000 		.space	4
 222              		.global	changeTop
 223              		.section	.bss.changeTop,"aw",%nobits
 224              		.align	2
 227              	changeTop:
 228 0000 00000000 		.space	4
 229              		.global	changeCompare
 230              		.section	.bss.changeCompare,"aw",%nobits
 231              		.align	2
 234              	changeCompare:
 235 0000 00000000 		.space	4
 236              		.global	u16_notes
 237              		.section	.data.u16_notes,"aw"
 238              		.align	2
 241              	u16_notes:
 242 0000 1000     		.short	16
 243 0002 1100     		.short	17
 244 0004 1200     		.short	18
 245 0006 1300     		.short	19
 246 0008 1400     		.short	20
 247 000a 1500     		.short	21
 248 000c 1700     		.short	23
 249 000e 1800     		.short	24
 250 0010 1A00     		.short	26
 251 0012 1C00     		.short	28
ARM GAS  C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s 			page 6


 252 0014 1D00     		.short	29
 253 0016 1E00     		.short	30
 254              		.text
 255              	.Letext0:
 256              		.file 2 "c:\\users\\daniel\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@xp
 257              		.file 3 "c:\\users\\daniel\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@xp
 258              		.file 4 "Core/Lib/Notes/Inc/notes.h"
 259              		.file 5 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal.h"
ARM GAS  C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 notes.c
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:19     .text.setupNotes:00000000 $t
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:25     .text.setupNotes:00000000 setupNotes
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:69     .text.setupNotes:00000018 $d
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:234    .bss.changeCompare:00000000 changeCompare
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:227    .bss.changeTop:00000000 changeTop
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:220    .bss.outputOn:00000000 outputOn
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:213    .bss.outputOff:00000000 outputOff
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:77     .text.setBeat:00000000 $t
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:83     .text.setBeat:00000000 setBeat
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:105    .text.setBeat:00000008 $d
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:206    .bss.u16_base_beat:00000000 u16_base_beat
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:111    .text.playNote:00000000 $t
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:117    .text.playNote:00000000 playNote
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:192    .text.playNote:00000040 $d
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:241    .data.u16_notes:00000000 u16_notes
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:203    .bss.u16_base_beat:00000000 $d
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:210    .bss.outputOff:00000000 $d
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:217    .bss.outputOn:00000000 $d
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:224    .bss.changeTop:00000000 $d
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:231    .bss.changeCompare:00000000 $d
C:\Users\Daniel\AppData\Local\Temp\ccn4zdcr.s:238    .data.u16_notes:00000000 $d

UNDEFINED SYMBOLS
__aeabi_uidiv
HAL_Delay
